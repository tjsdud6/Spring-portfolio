<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout=http://www.ultraq.net.nz/thymeleaf/layout
      layout:decorate="~{layouts/layout1}">
    <head>
    	<meta charset="utf-8">
    	<th:block layout:fragment="css">
    		<style>
    			.error{color: #bd2130}
    			button{margin-top: 20px;}
    		</style>
    	</th:block>
    	
    </head>  
	<div layout:fragment="content" class="content">
		<h2>나의 정보</h2>
		<form action="/members/update" method="post">
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
			<div class="form-group">
				<label th:for="name">이름</label>
				<input type="text" th:value="@{member.name}" class="form-control">
				<!-- <p th:if="${#fields.hasErrors('name')}" class="error"
				   th:errors="*{name}">Incorrect data</p> -->
			</div>
			<div class="form-group">
				<label th:for="email">이메일</label>
				<input type="email" th:value="@{member.email}" class="form-control" readonly="readonly">
				<!-- <p th:if="${#fields.hasErrors('email')}" class="error"
				   th:errors="*{email}">Incorrect data</p> -->
			</div>
			<div class="form-group">
				<label th:for="password">비밀번호</label>
				<input type="password" th:value="@{member.password}" class="form-control">
				<!-- <p th:if="${#fields.hasErrors('password')}" class="error"
				   th:errors="*{password}">Incorrect data</p> -->
			</div>
			
			<!-- <div class="form-group">
				<label th:for="address">주소</label>
				<input type="text" th:field="*{address}" class="form-control"
					   placeholder="주소를 입력해주세요">
				<p th:if="${#fields.hasErrors('address')}" class="error"
				   th:errors="*{address}">Incorrect data</p>
			</div> -->
			<div style="text-align: center">
				<button type="submit" class="btn btn-primary">수정</button>
			</div>
		</form>
		
		<script th:inline="javascript">
   			$(document).ready(function(){
   				let errorMsg = [[${errorMsg}]];
   				if(errorMsg != null){
   					alert(errorMsg);
   				}
   			});
   		</script>
	</div>
</html>